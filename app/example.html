<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>visualisering af relationer</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    <style>
      .relvis-request {
        display: none;
      }
      .relvis-disabled {
        display: none;
      }
      .relvis-enabled {
      }
    </style>
  </head>
  <body>
        <!-- build:js({app,.tmp}) scripts/main.js -->
        <script src="scripts/util.js"></script>
        <script src="scripts/canvas-overlay.js"></script>
        <script src="scripts/canvas-util.js"></script>
        <script src="scripts/data-model.js"></script>
        <script src="scripts/graph-model.js"></script>
        <script src="scripts/graph-layout.js"></script>
        <script src="scripts/ui.js"></script>
        <script src="scripts/item-view.js"></script>
        <script src="scripts/graph-canvas.js"></script>
        <script src="scripts/main.js"></script>
        <!-- endbuild -->

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/jquery.js"></script>
    <script src="bower_components/d3/d3.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

        <script>
        $(function(){
            relvis.init({
                apiUrl: 'https://dev.vejlebib.dk/ting-visual-relation',
                relatedUrl: 'http://relvis.solsort.com/relvis-api',
                logUrl: 'http://relvis.solsort.com/_relvis_log.js',
                topMargin: 100,
                bottomMargin: 50,
                loadingCover: 'http://relvis.solsort.com/icons/solsort.png',
                clickHandle: function(o) {
                  console.log('click', o);
                },
                closeHandle: function() {
                  console.log('close');
                  relvis.close();
                }
            });
            relvis.drawBackground = function(ctx, x, y, w, h) {
              ctx.fillStyle = '#cac';
              ctx.fillRect(x,y,w,h);
            };
            relvis.open('circular', '870970-basis:28855346');
            setInterval(function() {
              console.log('here');
              relvis.topMargin = Math.random() * 200;
              relvis.requestRedraw();
            }, 500);

        });
        </script>
</body>
</html>
